{% extends 'base.html.twig' %}


{% block main %}
    {# lien de redirection de don #}

{# grace a la methode path je cree un lien qui renvoi mon formulaire creer dans un fichier twig#}
<div id="lien_temoignage"><a href="{{ path('admin_testimony_insert') }}"><h1 class="lien_temoignage">Créer votre témoignage</h1></a></div>
 <div class="admin_container_testimonys">
     {# avec la boucle for j'appel un temoignage dans mes temoignages #}
     {% for testimony in testimonys %}


             {# ma condition if et la methode loop.index me permet de récuperer les entités de mes temoignages
             et de les afficher en les alternants grâce à else #}
             {% if loop.index is odd %}
                     <article class="box_testimonys_admin">
                         <div class="row-test">
                             <h2 class="title_testimonys_admin">{{ testimony.title }}</h2>
                             <p>{{ testimony.article }}</p>
                             <a href="" class="article">lire la suite..</a>
                         </div>
                     </article>
                 {# la methode asset(uploads:testimony me permet de recuperer les images qui ont été uploadé en bdd #}
                 <img src="{{ asset('uploads/testimony/' ~ testimony.picture) }}" alt="" id="img_box_testimonys_admin">
             {% else %}
                     <img src="{{ asset('uploads/testimony/' ~ testimony.picture) }}" alt="" id="img_test_admin">
                     <article class="box_testimonys_admin">
                         <div class="row2-test">
                             <h2 class="title_testimonys_admin">{{ testimony.title }}</h2>
                             <p>{{ testimony.article }}</p>
                             <a href="" class="article">lire la suite..</a>
                         </div>
                     </article>
             {% endif %}
         <div class="row3-test">
             <article>
                 <h3 class="title_testimonys_admin">{{ testimony.title }}</h3>
                 <p>{{ testimony.article }}</p>
                 <a href="" class="article">lire la suite..</a>
             </article>
         </div>
         {# la methode path me permet de rappeler une function deja defini avec son id dans mon controller via son name
          pour pouvoir supprimer ou modifier un article #}
        {#  {% if is_granted ('ROLE_ADMIN') %}
            <div id="button_testimony_m"><a href="{{ path('admin_testimony_update', {'id':testimony.id}) }}">Modifier</a></div>
            <div id="button_testimony_s"><a href="{{ path('admin_testimony_delete', {'id':testimony.id}) }}">Supprimer</a></div>
        {% endif %}#}




{% endfor %}
 </div>
{% endblock main%}
{#  {% if testimony.picture %}#}
{# je récupère le nom du fichier uploadé
 que je concatène avec le dossier
 dans le dossier uploadé
<a href="{{ path('Front_testimony_list') }}"></a>#}
{#  <img src="{{ asset('uploads/testimonys/' ~ testimony.picture) }}" alt="">
{% endif %}#}

